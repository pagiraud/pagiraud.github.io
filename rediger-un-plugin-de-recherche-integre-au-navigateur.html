<!DOCTYPE html>
<html lang="fr">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="http://www.insolit.org/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="http://www.insolit.org/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="http://www.insolit.org/theme/font-awesome/css/font-awesome.min.css">


    <link href="http://www.insolit.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Insolit Atom">



  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />


<meta name="author" content="Pierre-Amiel Giraud" />
<meta name="description" content="Voici un petit tutoriel qui mâ€™a Ã©tÃ© demandÃ© Ã  la suite des plugins que jâ€™ai rÃ©digÃ©s, et qui permettent de savoir quels sont les documents dont dispose le centre REGARDS. Objectifâ€¯: rÃ©diger un plugin de recherche intÃ©grÃ© au navigateur interrogeant la plate-forme ISIDORE et ne retournant que les ..." />
<meta name="keywords" content="firefox, ISIDORE, Mycroft, plugins, REGARDS">
<meta property="og:site_name" content="Insolit"/>
<meta property="og:title" content="RÃ©diger un plugin de recherche intÃ©grÃ© au navigateur"/>
<meta property="og:description" content="Voici un petit tutoriel qui mâ€™a Ã©tÃ© demandÃ© Ã  la suite des plugins que jâ€™ai rÃ©digÃ©s, et qui permettent de savoir quels sont les documents dont dispose le centre REGARDS. Objectifâ€¯: rÃ©diger un plugin de recherche intÃ©grÃ© au navigateur interrogeant la plate-forme ISIDORE et ne retournant que les ..."/>
<meta property="og:locale" content="fr_FR"/>
<meta property="og:url" content="http://www.insolit.org/rediger-un-plugin-de-recherche-integre-au-navigateur.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2013-03-31 08:00:00+02:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="http://www.insolit.org/author/pierre-amiel-giraud.html">
<meta property="article:section" content="Outils et astuces"/>
<meta property="article:tag" content="firefox"/>
<meta property="article:tag" content="ISIDORE"/>
<meta property="article:tag" content="Mycroft"/>
<meta property="article:tag" content="plugins"/>
<meta property="article:tag" content="REGARDS"/>
<meta property="og:image" content="">
  <title>Insolit &ndash; RÃ©diger un plugin de recherche intÃ©grÃ© au navigateur</title>
</head>
<body>
  <aside>
    <div>
      <a href="http://www.insolit.org">
        <img src="http://www.insolit.org/theme/img/profile.png" alt="Insolit" title="Insolit">
      </a>
      <h1><a href="http://www.insolit.org">Insolit</a></h1>
<p>Informatique, logiciels libres et territoires</p>      <nav>
        <ul class="list">
          <li><a href="http://www.insolit.org/isidore/" target="_blank">Plugins de recherche pour les collections Isidore</a></li>
          <li><a href="https://docgeo.hypotheses.org/" target="_blank">Doc'GÃ©o</a></li>
          <li><a href="http://www.saintseiya.tv/" target="_blank">Saint Seiya Database</a></li>
        </ul>
      </nav>
      <ul class="social">
        <li><a class="sc-github" href="http://github.com/pagiraud" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-twitter" href="http://twitter.com/insolit_blog" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-rss" href="/feeds/all.atom.xml" target="_blank"><i class="fa fa-rss"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>
    <nav>
      <a href="http://www.insolit.org">Home</a>
      <a href="/categories.html">CatÃ©gories</a>
      <a href="/archives.html">Archives</a>
      <a href="/tags.html">Ã‰tiquettes</a>
      <a href="http://www.insolit.org/feeds/all.atom.xml">Atom</a>
    </nav>

<article>
  <header>
    <h1 id="rediger-un-plugin-de-recherche-integre-au-navigateur">RÃ©diger un plugin de recherche intÃ©grÃ© au navigateur</h1>
    <p>Posted on dim. 31 mars 2013 in <a href="http://www.insolit.org/category/outils-et-astuces.html">Outils et astuces</a></p>
  </header>
  <div>
    <p>Voici un petit tutoriel qui mâ€™a Ã©tÃ© demandÃ© Ã  la suite des <a href="http://mycroftproject.com/search-engines.html?name=regards" title="Plugins de recherche pour le centre REGARDS">plugins que jâ€™ai rÃ©digÃ©s</a>, et qui permettent de savoir quels sont les documents dont dispose le centre <a href="http://www.regards.cnrs.fr/" title="Le centre de documentations REGARDS">REGARDS</a>.</p>
<p><strong>Objectif&#8239;:</strong> rÃ©diger un plugin de recherche intÃ©grÃ© au navigateur interrogeant la plate-forme <a href="http://www.rechercheisidore.fr/" title="La plate-forme ISIDORE">ISIDORE</a> et ne retournant que les rÃ©sultats dâ€™une collection ou organisation spÃ©cifique.</p>
<p><strong>Exemple dâ€™utilisation&#8239;:</strong> Votre centre de documentation est moissonnÃ© par ISIDORE et vous souhaitez ne plus avoir Ã  maintenir votre moteur de recherche maison. Cependant, vos utilisateurs souhaitent savoir facilement Ã  quels documents ils peuvent accÃ©der physiquement.</p>
<p><strong>Avantages&#8239;:</strong> Cette solution est trÃ¨s simple Ã  mettre en Å“uvre. Elle ne requiert aucune modification sur le site de lâ€™organisation ou de la collection visÃ©e (mÃªme si cela reste conseillÃ©) ni aucune maintenance (sauf changement dans la structuration des requÃªtes de la plateforme ISIDORE).</p>
<p><strong>Limites&#8239;:</strong> Seuls les rÃ©sultats dâ€™une collection sont retournÃ©s. Si lâ€™objectif est de prioriser ceux dâ€™une collection, faisant apparaÃ®tre les autres documents Ã  la suite, il faut rÃ©aliser une interface en utilisant lâ€™API dâ€™ISIDORE.</p>
<p>Avant de rentrer dans le vif du sujet, je vous propose un petit topo sur lâ€™ajout et la gestion de moteurs de recherche dans les navigateurs les plus courants. Ceux qui connaissent dÃ©jÃ  le sujet peuvent sauter cette premiÃ¨re partie sans problÃ¨me.</p>
<h1>Les plugins de recherche intÃ©grÃ©s aux navigateurs</h1>
<p><a href="http://fr.wikipedia.org/wiki/OpenSearch" title="Article WikipÃ©dia sur OpenSearch">OpenSearch</a> est un ensemble cohÃ©rent de techniques permettant dâ€™exÃ©cuter des recherches sur un site sans passer par une interface web. OpenSearch est supportÃ© par les navigateurs suivants&#8239;:</p>
<ul>
<li>Mozilla Firefox 2 et versions ultÃ©rieures&#8239;;</li>
<li>Windows Internet Explorer 7 et versions ultÃ©rieures&#8239;;</li>
<li>Google Chrome / Google Chromium&#8239;;</li>
<li>Apple Safari 5.1 et versions ultÃ©rieures, moyennant lâ€™installation dâ€™<a href="http://www.opensearchforsafari.com/" title="Extension OpenSearch pour Apple Safari">une extension</a>.</li>
</ul>
<p><img alt="Les moteurs de la barre de recherche de Firefox" src="http://www.insolit.org/images/firefox_opensearch.png" /></p>
<p>Prenons le cas de Mozilla Firefox. OpenSearch y est exploitÃ© dans la <a href="https://support.mozilla.org/fr/kb/barre-recherche-choisir-facilement-moteur-favori#os=win7&amp;browser=fx19" title="Barre de recherche Mozilla Firefox">barre de recherche</a>. Cela permet justement de faire une recherche, par exemple dans un dictionnaire en ligne, sans avoir dâ€™abord Ã  aller sur leur site. Une bonne pratique est dâ€™attribuer Ã  chacun de vos moteurs un <a href="https://support.mozilla.org/fr/kb/barre-recherche-choisir-facilement-moteur-favori#w_mots-claes" title="Attribuer un mot clÃ© Ã  un moteur de recherche">mot clÃ©</a>. Ainsi, vous pouvez passer dâ€™un moteur Ã  lâ€™autre sans mÃªme toucher la souris.</p>
<p>Par exemple, vous attribuez le mot clÃ© <strong>d</strong> au moteur Â«&#8239;Portail lexical â€“ CNRTL&#8239;Â» (le dictionnaire en ligne du CNRS). En tapant <strong>Ctrl + l</strong>, votre curseur se positionne dans la barre dâ€™adresse. Tapez ensuite le mot clÃ© de votre moteur (ici <strong>d</strong>) suivi dâ€™un espace et de la recherche que vous souhaitez effectuer. Câ€™est simple et trÃ¨s efficace.</p>
<p>Les autres navigateurs proposent des fonctions plus ou mois similaires. Ã€ noter que seule une solution basÃ©e sur des raccourcis claviers est disponible dans Google Chrome, une seule barre servant Ã  tout.</p>
<p>Quel que soit votre navigateur, il y a deux faÃ§ons dâ€™ajouter un plugin de recherche. Le site officiel de Mozilla fournit <a href="https://support.mozilla.org/fr/kb/barre-recherche-choisir-facilement-moteur-favori#w_ajouter-des-moteurs-de-recherche" title="Ajouter des moteurs de recherche Ã  Firefox">de trÃ¨s bonnes explications</a> sur la marche Ã  suivre dans Firefox. Dâ€™autres instructions pour les autres navigateurs doivent aussi Ãªtre facilement trouvables. Il existe une variante de la deuxiÃ¨me mÃ©thode, qui consiste Ã  se rendre sur le site du <a href="http://mycroftproject.com/search-engines.html" title="Le site du projet MyCroft">projet Mycroft</a>, vÃ©ritable annuaire de plugins de recherche compatibles avec OpenSearch.</p>
<h1>GÃ©nÃ©rer un plugin de recherche pour votre organisation Ã  lâ€™aide de Mycroft</h1>
<p>La mÃ©thode que je dÃ©cris ici concerne spÃ©cifiquement les collections dâ€™ISIDORE, mais elle est trÃ¨s facilement adaptable pour tout site disposant dâ€™un moteur de recherche.</p>
<p><img alt="RÃ©cupÃ©rer l'identifiant numÃ©rique de la collection sur ISIDORE" src="http://www.insolit.org/images/identifiant_isidore.png" /></p>
<p>1. En premier lieu, il vous faut rÃ©cupÃ©rer lâ€™identifiant numÃ©rique sous lequel votre institution ou collection est rÃ©fÃ©rencÃ©e sur le moteur de recherche ISIDORE. Rendez-vous sur <a href="http://www.rechercheisidore.fr/" title="La plate-forme ISIDORE">la plate-forme</a>, et dans la colonne de gauche cliquez sur Â«&#8239;Par collections et organisations&#8239;Â» puis sÃ©lectionnez la vÃ´tre (ou celle qui vous intÃ©resseâ€¦). Regardez la barre dâ€™adresse de votre navigateur. Lâ€™identifiant est le numÃ©ro qui se trouve Ã  la fin de lâ€™URL, juste aprÃ¨s <strong>source_taxo=</strong>. Notez-le.</p>
<p>2. Rendez-vous sur la page du projet Mycroft permettant de <a href="http://mycroftproject.com/submitos.html" title="Proposer un plugin sur Mycroft">gÃ©nÃ©rer un plugin</a>. Remplissez les champs comme suit&#8239;:</p>
<ol>
<li><strong>Plugin name&#8239;:</strong> mettez quelque chose comme <strong><institution> (via ISIDORE)</strong>. Exemple&#8239;: REGARDS (via ISIDORE).</li>
<li><strong>Plugin description&#8239;:</strong> Il faut quelque chose de court. Je nâ€™ai jamais vu le texte entrÃ© ici apparaÃ®tre quelque part, mais sait-on jamaisâ€¦</li>
<li><strong>Search URL&#8239;:</strong> Câ€™est la partie la plus importante. Entrez <strong>http://www.rechercheisidore.fr/search?q={searchTerms}&amp;source_taxo=<identifiant_institution></strong> en remplaÃ§ant <identifiant_institution> par le numÃ©ro que vous avez rÃ©cupÃ©rÃ© Ã  lâ€™Ã©tape 1. La puce <strong>GET</strong> doit Ãªtre cochÃ©e. Exemple&#8239;: http://www.rechercheisidore.fr/search?q={searchTerms}&amp;source_taxo=18144929</li>
<li><strong>Input encoding</strong>&#8239;: Laissez tel quel, câ€™est-Ã -dire avec la valeur <strong>UTF-8</strong>.</li>
<li><strong>Suggestions URL&#8239;:</strong> Entrez <strong>http://www.rechercheisidore.fr/suggest/?q={searchTerms}</strong> Les suggestions sont globales (elles ne concernent pas quâ€™une seule collection). Il ne sert donc Ã  rien de rajouter lâ€™identifiant.</li>
<li><strong>Search form URL&#8239;:</strong> Entrez <strong>http://www.rechercheisidore.fr/search?source_taxo=<identifiant_institution></strong> Exemple&#8239;: http://www.rechercheisidore.fr/search?source_taxo=18144929</li>
<li><strong>Reference&#8239;:</strong> Il faut trouver une suite alphanumÃ©rique qui dÃ©crive votre plugin et qui soit unique sur Mycroft. Je vous suggÃ¨re quelque chose comme <strong>isidore-<institution></strong> Exemple&#8239;: isidore-regards</li>
<li><strong>Select icon&#8239;:</strong> Il sâ€™agit de lâ€™icÃ´ne qui illustrera votre plugin dans la barre de recherche. Soit vous dÃ©sirez utiliser le favicon du site de votre institution, soit vous prÃ©fÃ©rez opter pour celui dâ€™ISIDORE. Dans ce cas, il vous suffit de cocher <strong>Â«&#8239;Copy existing plugin&#8239;Â»</strong> et dâ€™entrer <strong>isidore-regards</strong> dans le champ de texte.</li>
<li><strong>Plugin category&#8239;:</strong> Il nâ€™y a rien de vraiment adÃ©quat. Libraries ou Education &gt; Universities peuvent faire lâ€™affaire selon les cas.</li>
<li>Je ne vous aide pas pour le reste des champs. ğŸ˜‰</li>
</ol>
<p>GÃ©nÃ©rez le plugin, testez-le (lâ€™icÃ´ne ne sera pas celle que vous avez choisie mais une tÃªte de tyrannosaure rouge) et si tout fonctionne comme prÃ©vu proposez votre plugin (votre icÃ´ne sera alors la bonne). Pour remplacer le plugin de test par le dÃ©finitif, il faut supprimer manuellement le premier de votre liste de plugins de recherche. Si votre plugin nâ€™apparaÃ®t pas lorsque vous le cherchez sur Mycroft,cliquez sur Â«&#8239;moreâ€¦&#8239;Â» sous la ligne Â«&#8239;Site language&#8239;Â» et cochez la case Â«&#8239;Skip Cache&#8239;Â».</p>
<h1>IntÃ©grer ce plugin sur la page de votre institution (optionnel)</h1>
<p>La mÃ©thode proposÃ©e ci-dessus possÃ¨de deux inconvÃ©nients. Dâ€™abord, pour quâ€™un utilisateur puisse ajouter votre plugin, il faut dÃ©jÃ  quâ€™il connaisse Mycroft. Ensuite, si Mycroft ferme, il deviendra indisponible pour de nouveaux utilisateurs.</p>
<p>Les deux problÃ¨mes se rÃ©solvent simultanÃ©ment. Pour ne plus dÃ©pendre de Mycroft, il faut hÃ©berger le plugin directement sur le serveur de votre institution (il faut donc possÃ©der les droits nÃ©cessaires). Le plus simple est dâ€™aller dans le <a href="http://www.commentcamarche.net/faq/14345-firefox-trouver-le-dossier-du-profil" title="Trouver le dossier de votre profil Firefox">dossier de votre profil Firefox</a>, puis dans le rÃ©pertoire <strong>searchplugins</strong> pour y trouver le vÃ´tre. Il vous suffit alors de lâ€™uploader sur votre serveur.</p>
<p>Pour que les visiteurs de votre site puisse installer le plugin que vous venez dâ€™uploader, vous pouvez ajouter le texte suivant dans la section <strong>head</strong> dâ€™une ou de plusieurs pages de votre site&#8239;:</p>
<pre> <link rel="search" type="application/opensearchdescription+xml" title="<Plugin name>" href="<l'URL du fichier XML>" /></pre>

<p>Remplacez <strong><Plugin name></strong> par la valeur que vous avez entrÃ©e plus haut comme Plugin name, et <strong><lâ€™URL de votre fichier XML></strong> par lâ€™adresse adÃ©quate. Enregistrez, câ€™est terminÃ©.</p>
<p>Jâ€™espÃ¨re que mes explications sont claires, et que vous nâ€™avez pas rencontrÃ© de difficultÃ© au cours des diffÃ©rentes Ã©tapes. NÃ©anmoins, le cas Ã©chÃ©ant, nâ€™hÃ©sitez pas Ã  poser votre question en commentaire.</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="http://www.insolit.org/tag/firefox.html">firefox</a>
      <a href="http://www.insolit.org/tag/isidore.html">ISIDORE</a>
      <a href="http://www.insolit.org/tag/mycroft.html">Mycroft</a>
      <a href="http://www.insolit.org/tag/plugins.html">plugins</a>
      <a href="http://www.insolit.org/tag/regards.html">REGARDS</a>
    </p>
  </div>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'insolit';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</article>

    <footer>
<p>
  &copy; Pierre-Amiel Giraud  - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>Built using <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a></p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
         src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
  </main>





<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Insolit ",
  "url" : "http://www.insolit.org",
  "image": "",
  "description": ""
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "name": "RÃ©diger un plugin de recherche intÃ©grÃ© au navigateur",
  "headline": "RÃ©diger un plugin de recherche intÃ©grÃ© au navigateur",
  "datePublished": "2013-03-31 08:00:00+02:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Pierre-Amiel Giraud",
    "url": "http://www.insolit.org/author/pierre-amiel-giraud.html"
  },
  "image": "{{ SITEURL }}/{{ THEME_STATIC_DIR }}/img/profile.png",
  "url": "http://www.insolit.org/rediger-un-plugin-de-recherche-integre-au-navigateur.html",
  "description": "Voici un petit tutoriel qui mâ€™a Ã©tÃ© demandÃ© Ã  la suite des plugins que jâ€™ai rÃ©digÃ©s, et qui permettent de savoir quels sont les documents dont dispose le centre REGARDS. Objectifâ€¯: rÃ©diger un plugin de recherche intÃ©grÃ© au navigateur interrogeant la plate-forme ISIDORE et ne retournant que les ..."
}
</script></body>
</html>